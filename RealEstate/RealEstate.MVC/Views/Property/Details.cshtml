@model PropertyDetailsVm
@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="sub-banner">
    <div class="container breadcrumb-area">
        <div class="breadcrumb-areas">
            <h1>Properties Details</h1>
            <ul class="breadcrumbs">
                <li><a href="index.html">Home</a></li>
                <li class="active">Properties Details</li>
            </ul>
        </div>
    </div>
</div>
<!-- Sub Banner end -->
<!-- Properties details page start -->
<div class="properties-details-page content-area-6">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-md-12 col-xs-12">
                <div class="properties-details-section">
                    <div id="propertiesDetailsSlider" class="carousel properties-details-sliders slide mb-40">
                        <!-- main slider carousel items -->
                        <div class="carousel-inner">
                            @{

                                for (int i = 0; i < Model.ImageIds.Count; i++)
                                {
                                    if (i == 0)
                                    {
                                        <div class="active item carousel-item" data-slide-number="@i">
                                            <img src="@Url.Action("GetImage","Document",new {ImageId = Model.ImageIds[i] })" class="img-slider" alt="slider-properties">
                                        </div>
                                        continue;
                                    }
                                    <div class="item carousel-item" data-slide-number="@i">
                                        <img src="@Url.Action("GetImage","Document",new {ImageId = Model.ImageIds[i]})" class="img-slider" alt="slider-properties">
                                    </div>
                                }
                            }

                        </div>
                        <!-- main slider carousel nav controls -->
                        <ul class="carousel-indicators smail-properties list-inline nav nav-justified">

                            @{

                                for (int i = 0; i < Model.ImageIds.Count; i++)
                                {
                                    if (i == 0)
                                    {
                                        <li class="list-inline-item active">
                                            <a id="carousel-selector-@i" class="selected" data-slide-to="@i" data-target="#propertiesDetailsSlider">
                                                <img src="@Url.Action("GetImage","Document",new {ImageId = Model.ImageIds[i]})" class="thumb-nail-slider" alt="properties-small">
                                            </a>
                                        </li>
                                        continue;
                                    }
                                    <li class="list-inline-item">
                                        <a id="carousel-selector-@i" data-slide-to="@i" data-target="#propertiesDetailsSlider">
                                            <img src="@Url.Action("GetImage","Document",new {ImageId = Model.ImageIds[i]})" class="thumb-nail-slider" alt="properties-small">
                                        </a>
                                    </li>
                                }
                            }


                        </ul>
                        <div class="heading-properties-2">
                            <h3>@Model.Title</h3>
                            <div class="price-location"><span class="property-price">GMD @Model.Price</span> <span class="rent">@Model.Status</span> <span class="location"><i class="flaticon-pin"></i>@Model.City</span>  <span class="fa fa-eye" style="color:white" role="img"><b> @Model.ViewCount</b></span></div>
                        </div>

                    </div>
                    <span class="glyphicon glyphicon-heart"></span>
                    <!-- Advanced search start -->
                    <div class="widget-2 advanced-search bg-grea-2 d-lg-none d-xl-none">
                        <h3 class="sidebar-title">Search Properties</h3>

                        @await Html.PartialAsync("_AgentInfoPartial", Model.Agent)
                    </div>
                    <!-- Tabbing box start -->
                    <div class="tabbing tabbing-box mb-40">
                        <ul class="nav nav-tabs" id="carTab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active show" id="one-tab" data-toggle="tab" href="#one" role="tab" aria-controls="one" aria-selected="false">Description</a>
                            </li>
                            @*<li class="nav-item">
                                <a class="nav-link" id="6-tab" data-toggle="tab" href="#6" role="tab" aria-controls="6" aria-selected="true">Features</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="two-tab" data-toggle="tab" href="#two" role="tab" aria-controls="two" aria-selected="false">Floor Plans</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="three-tab" data-toggle="tab" href="#three" role="tab" aria-controls="three" aria-selected="true">Details</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="5-tab" data-toggle="tab" href="#5" role="tab" aria-controls="5" aria-selected="true">Location</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" id="4-tab" data-toggle="tab" href="#4" role="tab" aria-controls="4" aria-selected="true">Video</a>
                            </li>*@
                        </ul>
                        <div class="tab-content" id="carTabContent">
                            <div class="tab-pane fade active show" id="one" role="tabpanel" aria-labelledby="one-tab">
                                <div class="properties-description mb-50" style="margin-bottom:100px">
                                    @*<h3 class="heading-2">
                                        Description
                                    </h3>*@
                                    <p class="h5">@Model.Description</p>
                                </div>
                                
                            </div>
                            <div class="tab-pane fade" id="two" role="tabpanel" aria-labelledby="two-tab">
                                <div class="floor-plans mb-50">
                                    <h3 class="heading-2">Floor Plans</h3>
                                    <table>
                                        <tbody>
                                            <tr>
                                                <td><strong>Size</strong></td>
                                                <td><strong>Rooms</strong></td>
                                                <td><strong>Bathrooms</strong></td>
                                                <td><strong>Garage</strong></td>
                                            </tr>
                                            <tr>
                                                <td>1600</td>
                                                <td>3</td>
                                                <td>2</td>
                                                <td>1</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <img src="~/img/airpoint-Gambia.jpg" alt="floor-plans" class="img-fluid">
                                </div>
                            </div>
                            <div class="tab-pane fade " id="three" role="tabpanel" aria-labelledby="three-tab">
                                <div class="property-details mb-40">
                                    <h3 class="heading-2">Property Details</h3>
                                    <div class="row">
                                        <div class="col-md-4 col-sm-6">
                                            <ul>
                                                <li>
                                                    <strong>Property Id:</strong>215
                                                </li>
                                                <li>
                                                    <strong>Price:</strong>$1240/ Month
                                                </li>
                                                <li>
                                                    <strong>Property Type:</strong>House
                                                </li>
                                                <li>
                                                    <strong>Bathrooms:</strong>3
                                                </li>
                                                <li>
                                                    <strong>Bathrooms:</strong>2
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="col-md-4 col-sm-6">
                                            <ul>
                                                <li>
                                                    <strong>Property Lot Size:</strong>800 ft2
                                                </li>
                                                <li>
                                                    <strong>Land area:</strong>230 ft2
                                                </li>
                                                <li>
                                                    <strong>Year Built:</strong>2018
                                                </li>
                                                <li>
                                                    <strong>Available From:</strong>2018
                                                </li>
                                                <li>
                                                    <strong>Garages:</strong>2
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="col-md-4 col-sm-6">
                                            <ul>
                                                <li>
                                                    <strong>Sold:</strong>Yes
                                                </li>
                                                <li>
                                                    <strong>City:</strong>Usa
                                                </li>
                                                <li>
                                                    <strong>Parking:</strong>Yes
                                                </li>
                                                <li>
                                                    <strong>Property Owner:</strong>Sohel Rana
                                                </li>
                                                <li>
                                                    <strong>Zip Code: </strong>2451
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade " id="6" role="tabpanel" aria-labelledby="6-tab">
                                <div class="properties-amenities mb-30">
                                    <h3 class="heading-2">Features</h3>
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                            <ul class="amenities">
                                                <li>
                                                    <i class="fa fa-check"></i>Air conditioning
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Balcony
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Pool
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Room service
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Gym
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                            <ul class="amenities">
                                                <li>
                                                    <i class="fa fa-check"></i>Wifi
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Parking
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Double Bed
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Home Theater
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Electric
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                            <ul class="amenities">
                                                <li>
                                                    <i class="fa fa-check"></i>Telephone
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Jacuzzi
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Alarm
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Garage
                                                </li>
                                                <li>
                                                    <i class="fa fa-check"></i>Security
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade " id="5" role="tabpanel" aria-labelledby="5-tab">
                                <div class="location mb-50">
                                    <div class="map">
                                        <h3 class="heading-2">Property Location</h3>
                                        <div id="map" class="contact-map"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade " id="4" role="tabpanel" aria-labelledby="4-tab">
                                <div class="inside-properties mb-50">
                                    <h3 class="heading-2">
                                        Property Video
                                    </h3>
                                    @*<iframe src="https://www.youtube.com/embed/5e0LxrLSzok" allowfullscreen=""></iframe>*@
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-bottom:20px">
                        <h4>Similar Properties</h4>
                    </div>
                    <div class="row">
                       
                        @{
                            foreach (var property in Model.SimilarProperties)
                            {
                                <div class="col-lg-4 col-md-6">
                                    <div class="property-box">
                                        <div class="property-thumbnail">
                                            <a href="@Url.Action("Details","property", new { Id = property.Id})" class="property-img">
                                                <div class="tag">Featured</div>
                                                <div class="price-box"><span>GMD @property.Price</span> month</div>
                                                <img class="d-block w-100 custom-image-size" src="@Url.Action("GetImage", "Document", new { ImageId = property.PropertyImages.FirstOrDefault()?.ImageId })" alt="properties">
                                            </a>
                                        </div>

                                        <div class="detail" style="height:200px">
                                            <h1 class="title">
                                                <a href="@Url.Action("Details","property", new { Id = property.Id})">@property.Title</a>
                                            </h1>
                                            <div class="location">
                                                <a href="@Url.Action("Details","property", new { Id = property.Id})">
                                                    <i class="flaticon-pin"></i>@property.City.Name
                                                </a>
                                            </div>
                                            <div class="facilities-list clearfix">


                                                <p>
                                                    <span class="fa fa-eye"><span> @property.ViewCount Views</span></span>
                                                </p>
                                                <p>
                                                    <span class="fa fa-calendar"><span> @DurationHelper.FormatDuration(property.DateCreated)</span></span>
                                                </p>
                                             
                                               
                                            </div>
                                       
                                        </div>
                                    </div>
                                </div>
                            }

                        }

                    </div>
                    @*<!-- Heading 2 -->
                        <h3 class="heading-2">Comments Section</h3>
                        <!-- Comments start -->
                        <ul class="comments">
                            <li>
                                <div class="comment">
                                    <div class="comment-author">
                                        <a href="#">
                                            <img src="http://placehold.it/60x60" alt="comments-user">
                                        </a>
                                    </div>
                                    <div class="comment-content">
                                        <div class="comment-meta">
                                            <h6>
                                                Maikel Alisa
                                                <span class="float-right">11/28/2018<a href="#">Reply</a></span>
                                            </h6>
                                        </div>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec luctus tincidunt aliquam. Aliquam gravida massa at sem vulputate interdum et vel eros. Maecenas eros enim  sem vulputate interdum et vel eros.</p>
                                    </div>
                                </div>
                                <ul>
                                    <li>
                                        <div class="comment">
                                            <div class="comment-author">
                                                <a href="#">
                                                    <img src="http://placehold.it/60x60" alt="comments-user">
                                                </a>
                                            </div>
                                            <div class="comment-content">
                                                <div class="comment-meta">
                                                    <h6>
                                                        Carolyn Stone
                                                        <span class="float-right">11/28/2018<a href="#">Reply</a></span>
                                                    </h6>
                                                </div>
                                                <P>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec luctus tincidunt aliquam. Aliquam gravida massa at sem vulputate interdum et.</P>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <div class="comment">
                                    <div class="comment-author">
                                        <a href="#">
                                            <img src="http://placehold.it/60x60" alt="comments-user">
                                        </a>
                                    </div>
                                    <div class="comment-content">
                                        <div class="comment-meta">
                                            <h6>
                                                Brandon Miller
                                                <span class="float-right">11/28/2018<a href="#">Reply</a></span>
                                            </h6>
                                        </div>
                                        <P>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec luctus tincidunt aliquam. Aliquam gravida massa at sem vulputate interdum et vel eros. Maecenas eros enim.</P>
                                    </div>
                                </div>
                                <ul>
                                    <li>
                                        <div class="comment mb-50">
                                            <div class="comment-author">
                                                <a href="#">
                                                    <img src="http://placehold.it/60x60" alt="comments-user">
                                                </a>
                                            </div>
                                            <div class="comment-content b-none">
                                                <div class="comment-meta">
                                                    <h6>
                                                        Michelle Nelson
                                                        <span class="float-right">11/28/2018<a href="#">Reply</a></span>
                                                    </h6>
                                                </div>
                                                <P>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec luctus tincidunt aliquam. Aliquam gravida massa at sem vulputate interdum et vel eros. Maecenas eros enim.</P>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <!-- Contact 2 start -->
                        <div class="contact-2 ca mb-50">
                            <h3 class="heading">Contact Form</h3>
                            <form action="#" method="GET" enctype="multipart/form-data">
                                <div class="row">
                                    <div class="form-group name col-md-6">
                                        <input type="text" name="name" class="form-control" placeholder="Name">
                                    </div>
                                    <div class="form-group email col-md-6">
                                        <input type="email" name="email" class="form-control" placeholder="Email">
                                    </div>
                                    <div class="form-group number col-md-6">
                                        <input type="text" name="phone" class="form-control" placeholder="Number">
                                    </div>
                                    <div class="form-group number col-md-6">
                                        <input type="text" name="subject" class="form-control" placeholder="Subject">
                                    </div>
                                    <div class="form-group message col-md-12">
                                        <textarea class="form-control" name="message" placeholder="Write message"></textarea>
                                    </div>
                                    <div class="send-btn col-md-12">
                                        <button type="submit" class="btn btn-md button-theme">Send Message</button>
                                    </div>
                                </div>
                            </form>
                        </div>*@

                </div>
            </div>
            <div class="col-lg-4 col-md-12">
                <div class="sidebar-right">
                    <!-- Advanced search start -->
                    <div class="widget advanced-search d-none d-xl-block d-lg-block">
                       @await Html.PartialAsync("_AgentInfoPartial",Model.Agent)
                               
                                <!-- Advanced search start -->
                                @*<div class="widget advanced-search d-none d-xl-block d-lg-block">
                    <h3 class="sidebar-title">Search Properties</h3>
                    @await Html.PartialAsync("_SearchFormPartial", Model?.PropertySearchFormVm)
                </div>*@
                                <!-- Recent properties start -->
                                <!-- Posts by category Start -->

                           

                        @*<h3 class="sidebar-title">Search Properties</h3>
        @await Html.PartialAsync("_SearchFormPartial", Model?.PropertySearchFormVm)*@
                    </div>
                    <!-- Recent properties start -->
                    <!-- Posts by category Start -->

                </div>
            </div>

        </div>
    </div>
</div>

<!-- Properties details page end -->
<!-- Intro section start -->
<div class="intro-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-9 col-md-8 col-sm-12">
                <div class="intro-text">
                    <h3>Do You Have Questions ?</h3>
                </div>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-12">
                <a href="contact.html" class="btn btn-md">Get in Touch</a>
            </div>
        </div>
    </div>
</div>
@section styles{
    <link href="~/css/custom.css" rel="stylesheet" />
    <link href="~/css/jquery-ui.min.css" rel="stylesheet" />

}
@section scripts{
    <script src="~/js/jquery-ui.min.js"></script>
    <script>
    function UpdateViewCount() {
        var ItemId = '@Model.Id';
        $.ajax({
            url: '@Url.Action("UpdateViewCount","Property")',
            method: "POST",
            data: { proprtyId: ItemId }
        });
    }
    $(document).ready(function () {
        UpdateViewCount();
    })
    </script>


   


    <script>

        $(document).ready(function () {
            var url = '@Url.Action("GetLocations","Region")'
            $('#location').autocomplete({

                source: function (request, response) {
                    $.ajax({
                        url: url,
                        data: { searchTerm: request.term },
                        type: "GET",
                        success: function (data) {
                            response($.map(data, function (item) {
                                return {
                            label: item,
                            value: item
                        };
                            }))
                        }


                    });
                }
            });
        });
    </script>
}

}
